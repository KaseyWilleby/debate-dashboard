{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/genkit.ts"],"sourcesContent":["import 'dotenv/config';\nimport {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/google-genai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.5-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,6KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/scrape-tabroom-flow.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview An AI flow for scraping tournament listings from Tabroom.com.\n * \n * - scrapeTabroomTournaments - A function that scrapes Tabroom for tournaments in a specific state.\n * - ScrapedTournament - The return type for a single tournament.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { JSDOM } from 'jsdom';\n\nconst ScrapedTournamentSchema = z.object({\n    name: z.string().describe('The name of the tournament.'),\n    url: z.string().url().describe('The direct URL to the tournament on Tabroom.'),\n});\nexport type ScrapedTournament = z.infer<typeof ScrapedTournamentSchema>;\n\nconst ScrapeTabroomOutputSchema = z.array(ScrapedTournamentSchema);\n\nasync function getTabroomTournaments(state: string): Promise<ScrapedTournament[]> {\n    try {\n        const url = `https://www.tabroom.com/index/index.mhtml`;\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error(`Failed to fetch Tabroom page: ${response.statusText}`);\n        }\n        const html = await response.text();\n        const dom = new JSDOM(html);\n        const document = dom.window.document;\n\n        const tournaments: ScrapedTournament[] = [];\n        \n        const rows = document.querySelectorAll('div.main > table tr.narm');\n        \n        rows.forEach(row => {\n            const locationCell = row.querySelector('td:nth-child(3)');\n            const locationText = locationCell?.textContent?.trim() || '';\n\n            if (locationText.includes(state)) {\n                const linkElement = row.querySelector('td:first-child a');\n                if (linkElement) {\n                    const name = linkElement.textContent?.trim() || 'Unnamed Tournament';\n                    const relativeUrl = linkElement.getAttribute('href');\n                    if (relativeUrl) {\n                        const url = new URL(relativeUrl, 'https://www.tabroom.com/').href;\n                        tournaments.push({ name, url });\n                    }\n                }\n            }\n        });\n\n        return tournaments;\n    } catch (error) {\n        console.error(`Error scraping Tabroom for state ${state}:`, error);\n        throw new Error(\"Could not retrieve tournament list from Tabroom.\");\n    }\n}\n\nconst scrapeTabroomFlow = ai.defineFlow(\n    {\n        name: 'scrapeTabroomFlow',\n        inputSchema: z.string(),\n        outputSchema: ScrapeTabroomOutputSchema,\n    },\n    async (state) => {\n        return getTabroomTournaments(state);\n    }\n);\n\nexport async function scrapeTabroomTournaments(state: string): Promise<ScrapedTournament[]> {\n    return scrapeTabroomFlow(state);\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;CAKC,GAED;AACA;AAAA;AACA;;;;;;;AAEA,MAAM,0BAA0B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACrC,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,KAAK,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ,CAAC;AACnC;AAGA,MAAM,4BAA4B,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;AAE1C,eAAe,sBAAsB,KAAa;IAC9C,IAAI;QACA,MAAM,MAAM,CAAC,yCAAyC,CAAC;QACvD,MAAM,WAAW,MAAM,MAAM;QAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,SAAS,UAAU,EAAE;QAC1E;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,MAAM,MAAM,IAAI,mGAAA,CAAA,QAAK,CAAC;QACtB,MAAM,WAAW,IAAI,MAAM,CAAC,QAAQ;QAEpC,MAAM,cAAmC,EAAE;QAE3C,MAAM,OAAO,SAAS,gBAAgB,CAAC;QAEvC,KAAK,OAAO,CAAC,CAAA;YACT,MAAM,eAAe,IAAI,aAAa,CAAC;YACvC,MAAM,eAAe,cAAc,aAAa,UAAU;YAE1D,IAAI,aAAa,QAAQ,CAAC,QAAQ;gBAC9B,MAAM,cAAc,IAAI,aAAa,CAAC;gBACtC,IAAI,aAAa;oBACb,MAAM,OAAO,YAAY,WAAW,EAAE,UAAU;oBAChD,MAAM,cAAc,YAAY,YAAY,CAAC;oBAC7C,IAAI,aAAa;wBACb,MAAM,MAAM,IAAI,IAAI,aAAa,4BAA4B,IAAI;wBACjE,YAAY,IAAI,CAAC;4BAAE;4BAAM;wBAAI;oBACjC;gBACJ;YACJ;QACJ;QAEA,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,CAAC,iCAAiC,EAAE,MAAM,CAAC,CAAC,EAAE;QAC5D,MAAM,IAAI,MAAM;IACpB;AACJ;AAEA,MAAM,oBAAoB,mHAAA,CAAA,KAAE,CAAC,UAAU,CACnC;IACI,MAAM;IACN,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM;IACrB,cAAc;AAClB,GACA,OAAO;IACH,OAAO,sBAAsB;AACjC;AAGG,eAAe,yBAAyB,KAAa;IACxD,OAAO,kBAAkB;AAC7B;;;IAFsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/extract-tournament-info-flow.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview An AI flow for extracting tournament information from a webpage URL.\n * \n * - extractTournamentInfo - A function that handles the tournament info extraction.\n * - ExtractTournamentInfoOutput - The return type for the extractTournamentInfo function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { JSDOM } from 'jsdom';\n\nconst ExtractTournamentInfoOutputSchema = z.object({\n  name: z.string().describe('The name of the tournament.'),\n  date: z.string().describe('The date of the tournament, formatted as \"MMMM d, yyyy\".'),\n  scheduleUrl: z.string().url().describe('The direct URL to the tournament schedule page or document.'),\n});\n\nexport type ExtractTournamentInfoOutput = z.infer<typeof ExtractTournamentInfoOutputSchema>;\n\nasync function getPageContent(url: string): Promise<{ textContent: string, links: { text: string, href: string }[] }> {\n    try {\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error(`Failed to fetch page: ${response.statusText}`);\n        }\n        const html = await response.text();\n        const dom = new JSDOM(html, { url });\n        const document = dom.window.document;\n\n        // Get simplified text content\n        const textContent = (document.body.textContent || '').replace(/\\s\\s+/g, ' ').trim();\n\n        // Get all links with their text and absolute href\n        const links: { text: string, href: string }[] = [];\n        document.querySelectorAll('a').forEach(anchor => {\n            const text = (anchor.textContent || '').trim();\n            const href = anchor.href;\n            if (text && href) {\n                links.push({ text, href });\n            }\n        });\n\n        return { textContent, links };\n    } catch (error) {\n        console.error(\"Error fetching page content:\", error);\n        throw new Error(\"Could not retrieve content from the provided URL.\");\n    }\n}\n\n\nconst getWebpageContentTool = ai.defineTool(\n    {\n        name: 'getWebpageContent',\n        description: 'Retrieves the text content and all hyperlinks of a given webpage URL.',\n        inputSchema: z.object({ url: z.string().url() }),\n        outputSchema: z.object({\n            textContent: z.string(),\n            links: z.array(z.object({ text: z.string(), href: z.string() }))\n        }),\n    },\n    async ({ url }) => await getPageContent(url)\n);\n\n\nconst prompt = ai.definePrompt({\n  name: 'extractTournamentInfoPrompt',\n  input: { schema: z.object({ url: z.string().url() }) },\n  output: { schema: ExtractTournamentInfoOutputSchema },\n  tools: [getWebpageContentTool],\n  prompt: `You are an expert at analyzing forensics tournament websites (like Tabroom.com or SpeechWire.com) to extract key information.\n  \nYour task is to analyze the content of the provided tournament webpage URL and extract the following information:\n1. The official name of the tournament.\n2. The main date of the tournament. Format it as \"MMMM d, yyyy\" (e.g., \"October 26, 2024\"). If it's a multi-day tournament, use the start date.\n3. The direct URL to the tournament schedule. This is the most important piece of information. On Tabroom.com, this is often found in a right-hand menu under a section like \"Info\" or \"Information\". Look for a link with text like \"Schedule\", \"Pairings\", \"Schematics\", or \"Docket\". The correct URL will often be a direct link to a page within the site that contains the schedule itself, not a general information page.\n\nFirst, you MUST use the getWebpageContent tool to fetch the content of the URL: {{{url}}}\n\nThen, analyze the retrieved 'textContent' for the name and date, and analyze the 'links' array to find the most likely schedule URL. The 'href' from the links array is the value you should use for 'scheduleUrl'.\n\nProvide the extracted information in the required format.\n`,\n});\n\nconst extractTournamentInfoFlow = ai.defineFlow(\n  {\n    name: 'extractTournamentInfoFlow',\n    inputSchema: z.string(),\n    outputSchema: ExtractTournamentInfoOutputSchema,\n  },\n  async (url) => {\n    const response = await prompt({ url });\n    if (!response || !response.output) {\n      throw new Error(\"AI failed to extract tournament information.\");\n    }\n    return response.output;\n  }\n);\n\n\nexport async function extractTournamentInfo(url: string): Promise<ExtractTournamentInfoOutput> {\n    return extractTournamentInfoFlow(url);\n}\n"],"names":[],"mappings":";;;;;AACA;;;;;CAKC,GAED;AACA;AAAA;AACA;;;;;;;AAEA,MAAM,oCAAoC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjD,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ,CAAC;AACzC;AAIA,eAAe,eAAe,GAAW;IACrC,IAAI;QACA,MAAM,WAAW,MAAM,MAAM;QAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,SAAS,UAAU,EAAE;QAClE;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,MAAM,MAAM,IAAI,mGAAA,CAAA,QAAK,CAAC,MAAM;YAAE;QAAI;QAClC,MAAM,WAAW,IAAI,MAAM,CAAC,QAAQ;QAEpC,8BAA8B;QAC9B,MAAM,cAAc,CAAC,SAAS,IAAI,CAAC,WAAW,IAAI,EAAE,EAAE,OAAO,CAAC,UAAU,KAAK,IAAI;QAEjF,kDAAkD;QAClD,MAAM,QAA0C,EAAE;QAClD,SAAS,gBAAgB,CAAC,KAAK,OAAO,CAAC,CAAA;YACnC,MAAM,OAAO,CAAC,OAAO,WAAW,IAAI,EAAE,EAAE,IAAI;YAC5C,MAAM,OAAO,OAAO,IAAI;YACxB,IAAI,QAAQ,MAAM;gBACd,MAAM,IAAI,CAAC;oBAAE;oBAAM;gBAAK;YAC5B;QACJ;QAEA,OAAO;YAAE;YAAa;QAAM;IAChC,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM,IAAI,MAAM;IACpB;AACJ;AAGA,MAAM,wBAAwB,mHAAA,CAAA,KAAE,CAAC,UAAU,CACvC;IACI,MAAM;IACN,aAAa;IACb,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QAAE,KAAK,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG;IAAG;IAC9C,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACnB,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM;QACrB,OAAO,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YAAE,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM;YAAI,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM;QAAG;IACjE;AACJ,GACA,OAAO,EAAE,GAAG,EAAE,GAAK,MAAM,eAAe;AAI5C,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAE,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YAAE,KAAK,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG;QAAG;IAAG;IACrD,QAAQ;QAAE,QAAQ;IAAkC;IACpD,OAAO;QAAC;KAAsB;IAC9B,QAAQ,CAAC;;;;;;;;;;;;AAYX,CAAC;AACD;AAEA,MAAM,4BAA4B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC7C;IACE,MAAM;IACN,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM;IACrB,cAAc;AAChB,GACA,OAAO;IACL,MAAM,WAAW,MAAM,OAAO;QAAE;IAAI;IACpC,IAAI,CAAC,YAAY,CAAC,SAAS,MAAM,EAAE;QACjC,MAAM,IAAI,MAAM;IAClB;IACA,OAAO,SAAS,MAAM;AACxB;AAIK,eAAe,sBAAsB,GAAW;IACnD,OAAO,0BAA0B;AACrC;;;IAFsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/dashboard/tournament-scheduler/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {scrapeTabroomTournaments as '4088e38cb55f845900f909190885eec4e266c52873'} from 'ACTIONS_MODULE0'\nexport {extractTournamentInfo as '40116517478ea70778b760c0c56342b9e2878910b7'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 575, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/dashboard/tournament-scheduler/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/tournament-scheduler/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/tournament-scheduler/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmT,GAChV,iFACA","debugId":null}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/dashboard/tournament-scheduler/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/tournament-scheduler/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/tournament-scheduler/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","debugId":null}},
    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}